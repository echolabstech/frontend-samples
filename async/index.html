<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>promise.all async example</title>
</head>
<body>

	<script>
		function myAsyncFunc() {
			const asyncTask1 = new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('retrieve questions');
					resolve(100);
				}, 3000)
			});

			const asyncTask2 = new Promise((resolve, reject) => {
				setTimeout(() => {
					console.log('show popup');
					const button = document.createElement('button');
					button.onclick = () => resolve(100);
					button.textContent = 'close popup';
					document.body.appendChild(button);
				}, 2000)
			});

			return Promise.all([asyncTask1, asyncTask2]).
			then((values) => {

			});
		}

		async function main() {
			console.log('before');
			await myAsyncFunc();
			console.log('after');
		}
		main();
	</script>
</body>
</html>