<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8">
		<title>clipping path demo</title>
	</head>
	<style>
		.main {
			position: relative;
		}

		.map {
			position: absolute;
			z-index: 3;
		}

		#clipped {
			height: 300px;
		}

		#qa_forum {
			position: absolute;
			z-index: 2;
			top: 210px;

			width: 325px;
			height: 150px;
			background-color: red;

			display: flex;
			flex-direction: column;
			justify-content: space-around;
		}

		.questions {
			display: flex;
			justify-content: space-around;	
		}

		.question {
			width: 100px;
			height: 50px;
			background-color: blue;
		}

		.replies {
			display: flex;
			justify-content: space-around;
		}

		.reply {
			width: 100px;
			height: 50px;
			background-color: green;
		}

		.activateMapButton {
			position: absolute;
			z-index: 4;
			left: 260px;
		}

		.shrink {
			clip-path: inset(0% 0% 40% 0%);
		}

		.enlarge {
			clip-path: inset(0% 0% 0% 0%);
		}
	</style>
	<body>
		<div class="main">
			<button class="activateMapButton shrink">enlarge</button>
			<div class="map">
				<img id="clipped" class="shrink" src="https://mdn.mozillademos.org/files/12668/MDN.svg" alt="MDN logo">

				<select id="clipPath">
				  <option selected value="inset(0% 0% 40% 0%)">half</option>
				  <option value="inset(0% 0% 0% 0%)">full</option>
				</select>
			</div>

			<div id="qa_forum">
				<div class="questions">
					<div class="question"></div>
					<div class="question"></div>
					<div class="question"></div>
				</div>

				<div class="replies">
					<div class="reply"></div>
					<div class="reply"></div>
					<div class="reply"></div>
				</div>
			</div>
		</div>

		<script>
			let is_map_enlarged = false;

			const activateMapButton = document.querySelector('.activateMapButton');
			const clipped = document.querySelector('#clipped');
			activateMapButton.addEventListener('click', (event) => {
				if (is_map_enlarged) {
					// change button icon to shrink with css
					// shrink the map
					clipped.setAttribute('class', 'shrink')
					is_map_enlarged = false;
				} else {
					// change button icon to enlarge with css
					// enlarge the map
					clipped.setAttribute('class', 'enlarge')
					is_map_enlarged = true;
				}
			});

			const clipPathSelect = document.getElementById("clipPath");
			clipPathSelect.addEventListener("change", function (evt) {
			  document.getElementById("clipped").style.clipPath = evt.target.value;
			});
		</script>
	</body>
</html>